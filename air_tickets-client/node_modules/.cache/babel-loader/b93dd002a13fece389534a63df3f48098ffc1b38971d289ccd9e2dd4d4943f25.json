{"ast":null,"code":"import flightsData from '@/data/FlyTickets.json';\nexport default {\n  data() {\n    return {\n      flightsVisible: true,\n      valueFrom: [''],\n      valueTo: [''],\n      optionsFrom: flightsData.map(flight => flight.from),\n      optionsTo: flightsData.map(flight => flight.to),\n      showFrom: true,\n      showTo: true,\n      valueDate: null,\n      options: ['Одна', 'Дві', 'Три', 'Чотири', \"П'ять\", 'Шість'],\n      valueSingle: '',\n      flights: []\n      // showFlightsTable: true, \n    };\n  },\n\n  computed: {\n    filteredFlights() {\n      return this.flights.filter(flight => {\n        return this.valueFrom.includes(flight.from) && this.valueTo.includes(flight.to) && (this.valueDate ? this.matchesSelectedDate(flight.departure) : true);\n      });\n    }\n\n    // minDate() {\n    //   return this.flights.reduce((min, flight) => {\n    //     const flightDate = new Date(flight.departure);\n    //     return !min || flightDate < min ? flightDate : min;\n    //   }, null);\n    // },\n    // maxDate() {\n    //   return this.flights.reduce((max, flight) => {\n    //     const flightDate = new Date(flight.departure);\n    //     return !max || flightDate > max ? flightDate : max;\n    //   }, null);\n    // },\n  },\n\n  mounted() {\n    this.flights = flightsData;\n    this.flightsVisible = true;\n  },\n  methods: {\n    handleClickshowDate2() {\n      this.valueFrom = [];\n      this.valueTo = [];\n      this.showTo = false;\n      this.waybillTo = false;\n      this.showFlightsTable = true;\n      this.flightsVisible = true;\n    },\n    handleClickshowDate1() {\n      this.valueFrom = [];\n      this.valueTo = [];\n      this.showTo = true;\n      this.waybillTo = true;\n      this.showFlightsTable = true;\n      this.flightsVisible = true;\n    },\n    reverseSelection() {\n      [this.valueFrom, this.valueTo] = [this.valueTo, this.valueFrom];\n    },\n    searchFlights() {\n      this.flightsVisible = true;\n      this.flights = flightsData.filter(flight => {\n        return this.valueFrom.includes(flight.from) && this.valueTo.includes(flight.to) && this.matchesSelectedDate(flight.departure);\n      });\n    },\n    matchesSelectedDate(flightDeparture) {\n      if (!this.valueDate) {\n        return true;\n      }\n      // const selectedDate = new Date(flightDeparture).toISOString().substr(0, 10);\n      // const fromDate = this.valueDateFrom ? this.valueDateFrom.toISOString().substr(0, 10) : null;\n      // const toDate = this.valueDateTo ? this.valueDateTo.toISOString().substr(0, 10) : null;\n\n      if (fromDate && toDate) {\n        return selectedDate >= fromDate && selectedDate <= toDate;\n      } else if (fromDate) {\n        return selectedDate >= fromDate;\n      } else if (toDate) {\n        return selectedDate <= toDate;\n      }\n      return true;\n    }\n  },\n  name: 'HomeView'\n};","map":{"version":3,"names":["flightsData","data","flightsVisible","valueFrom","valueTo","optionsFrom","map","flight","from","optionsTo","to","showFrom","showTo","valueDate","options","valueSingle","flights","computed","filteredFlights","filter","includes","matchesSelectedDate","departure","mounted","methods","handleClickshowDate2","waybillTo","showFlightsTable","handleClickshowDate1","reverseSelection","searchFlights","flightDeparture","fromDate","toDate","selectedDate","name"],"sources":["C:\\Users\\Dasha\\Desktop\\practice\\air_tickets\\air_tickets-client\\src\\views\\HomeView.vue"],"sourcesContent":["<template>\r\n  <main class=\"AppNavigationHome\">\r\n    <div class=\"main__container md12\">\r\n      <div class=\"main__navigation md12\">\r\n        <va-button class=\"btn-way md9\" @click.stop=\"handleClickshowDate1()\">Туди й назад</va-button>\r\n        <va-button class=\"btn-way md9\" @click.stop=\"handleClickshowDate2()\">Односторонній</va-button>\r\n      </div>\r\n\r\n      <div class=\"path\">\r\n        <div class=\"main__waybillFrom\" v-show=\"showFrom\">\r\n          <div>\r\n            <va-select v-model=\"valueFrom\" label=\"\" :options=\"optionsFrom\" multiple searchable highlight-matched-text />\r\n          </div>\r\n        </div>\r\n        <div class=\"btm-revers\">\r\n          <va-button v-show=\"showTo\" round icon=\"cached\" @click=\"reverseSelection()\"></va-button>\r\n        </div>\r\n        <div class=\"main__waybillTo\" v-show=\"showTo\">\r\n          <div>\r\n            <va-select v-model=\"valueTo\" label=\"\" :options=\"optionsTo\" multiple searchable highlight-matched-text />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"btn__info\">\r\n        <div class=\"row justify-space-between\">\r\n          <div class=\"date flex flex-col xs12\">\r\n            <va-date-input v-if=\"showFrom\" class=\"date__input\" label=\"Дата\" stateful clearable :min-date=\"minDate\"\r\n              :max-date=\"maxDate\" />\r\n          </div>\r\n          <div class=\"date flex flex-col xs12\">\r\n            <va-date-input v-if=\"showTo\" class=\"date__input\" label=\"Дата\" stateful clearable :min-date=\"minDate\"\r\n              :max-date=\"maxDate\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"price\">\r\n          <va-select v-model=\"valueSingle\" class=\"sm12\" label=\"кількість осіб\" :options=\"options\" />\r\n        </div>\r\n        <div class=\"scan sm12\">\r\n          <va-button size=\"medium\" class=\"px-6\" @click=\"searchFlights\">Пошук рейсов</va-button>\r\n        </div>\r\n        <div class=\"tabel__tickets\">\r\n          <table class=\"va-table va-table--striped va-table--clickable\">\r\n            <thead>\r\n              <tr>\r\n                <th>Звідки</th>\r\n                <th>Куди</th>\r\n                <th>Ціна</th>\r\n                <th>Дата</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"flight in filteredFlights\" :key=\"flight.from\">\r\n                <td>{{ flight.from }}</td>\r\n                <td>{{ flight.to }}</td>\r\n                <td>{{ flight.price }}</td>\r\n                <td>{{ flight.departure }}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <div class=\"error\">\r\n            <div v-if=\"valueFrom.length === 0 || valueTo.length === 0\" class=\"error\">\r\n              <!-- Рейсів не знайдено. Будь ласка вкажіть шлях та дату. -->\r\n            </div>\r\n            <div v-else class=\"error\">\r\n              Всі можливі рейси\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport flightsData from '@/data/FlyTickets.json';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      flightsVisible: true,\r\n      valueFrom: [''],\r\n      valueTo: [''],\r\n      optionsFrom: flightsData.map(flight => flight.from),\r\n      optionsTo: flightsData.map(flight => flight.to),\r\n      showFrom: true,\r\n      showTo: true,\r\n      valueDate: null,\r\n      options: ['Одна', 'Дві', 'Три', 'Чотири', \"П'ять\", 'Шість'],\r\n      valueSingle: '',\r\n      flights: [],\r\n      // showFlightsTable: true, \r\n    };\r\n  },\r\n  computed: {\r\n    filteredFlights() {\r\n      return this.flights.filter(flight => {\r\n        return (\r\n          this.valueFrom.includes(flight.from) &&\r\n          this.valueTo.includes(flight.to) &&\r\n          (this.valueDate ? this.matchesSelectedDate(flight.departure) : true)\r\n        );\r\n      });\r\n    },\r\n    \r\n    // minDate() {\r\n    //   return this.flights.reduce((min, flight) => {\r\n    //     const flightDate = new Date(flight.departure);\r\n    //     return !min || flightDate < min ? flightDate : min;\r\n    //   }, null);\r\n    // },\r\n    // maxDate() {\r\n    //   return this.flights.reduce((max, flight) => {\r\n    //     const flightDate = new Date(flight.departure);\r\n    //     return !max || flightDate > max ? flightDate : max;\r\n    //   }, null);\r\n    // },\r\n  },\r\n  mounted() {\r\n    this.flights = flightsData;\r\n    this.flightsVisible = true;\r\n  },\r\n  methods: {\r\n    handleClickshowDate2() {\r\n      this.valueFrom = [];\r\n      this.valueTo = [];\r\n      this.showTo = false;\r\n      this.waybillTo = false;\r\n      this.showFlightsTable = true;\r\n      this.flightsVisible = true;\r\n    },\r\n    handleClickshowDate1() {\r\n      this.valueFrom = [];\r\n      this.valueTo = [];\r\n      this.showTo = true;\r\n      this.waybillTo = true;\r\n      this.showFlightsTable = true;\r\n      this.flightsVisible = true;\r\n    },\r\n    reverseSelection() {\r\n      [this.valueFrom, this.valueTo] = [this.valueTo, this.valueFrom];\r\n    },\r\n    searchFlights() {\r\n      this.flightsVisible = true;\r\n      this.flights = flightsData.filter(flight => {\r\n        return (\r\n          this.valueFrom.includes(flight.from) &&\r\n          this.valueTo.includes(flight.to) &&\r\n          this.matchesSelectedDate(flight.departure)\r\n        );\r\n      });\r\n    },\r\n    matchesSelectedDate(flightDeparture) {\r\n      if (!this.valueDate) {\r\n        return true;\r\n      }\r\n      // const selectedDate = new Date(flightDeparture).toISOString().substr(0, 10);\r\n      // const fromDate = this.valueDateFrom ? this.valueDateFrom.toISOString().substr(0, 10) : null;\r\n      // const toDate = this.valueDateTo ? this.valueDateTo.toISOString().substr(0, 10) : null;\r\n\r\n      if (fromDate && toDate) {\r\n        return selectedDate >= fromDate && selectedDate <= toDate;\r\n      } else if (fromDate) {\r\n        return selectedDate >= fromDate;\r\n      } else if (toDate) {\r\n        return selectedDate <= toDate;\r\n      }\r\n      return true;\r\n    },\r\n  },\r\n  name: 'HomeView'\r\n};\r\n</script>\r\n\r\n<style>\r\n.AppNavigationHome {\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.main__container {\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\n.main__navigation {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  margin-top: 15px;\r\n}\r\n\r\n.btn-way {\r\n  flex: 50%;\r\n  width: 160px;\r\n  gap: 20px;\r\n}\r\n\r\n.main__waybillFrom {\r\n  margin-bottom: 0;\r\n  margin-top: 20px;\r\n}\r\n\r\n.main__waybillTo {\r\n  margin-top: -10px;\r\n}\r\n\r\n.path {\r\n  position: relative;\r\n}\r\n\r\n.btm-revers {\r\n  position: absolute;\r\n  top: 32px;\r\n  left: 212px;\r\n  z-index: 1;\r\n}\r\n\r\n.btn__info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 20px;\r\n}\r\n\r\n.date {\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: row;\r\n  gap: 15px;\r\n  flex: 100%;\r\n  width: 120px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.date__input {\r\n  flex: 1 1 50%;\r\n}\r\n\r\n.price {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 20px;\r\n}\r\n\r\n.scan {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 20px;\r\n  width: 100%;\r\n}\r\n\r\n.va-button {\r\n  width: 100%;\r\n}\r\n\r\n.va-dropdown__content {\r\n  z-index: 99;\r\n}\r\n\r\n.tabel__tickets {\r\n  box-shadow: 0px 4px 6px rgba(52, 61, 215, 0.397);\r\n  overflow: auto;\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}