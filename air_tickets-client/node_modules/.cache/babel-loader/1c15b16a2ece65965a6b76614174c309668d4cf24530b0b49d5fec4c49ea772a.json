{"ast":null,"code":"import flightsData from '@/data/FlyTickets.json';\nexport default {\n  data() {\n    return {\n      options: [{\n        id: \"0\",\n        text: \"one\",\n        value: \"one\"\n      }, {\n        id: \"1\",\n        text: \"two\",\n        value: \"two\"\n      }, {\n        id: \"2\",\n        text: \"three\",\n        value: \"three\"\n      }, {\n        id: \"3\",\n        text: \"four\",\n        value: \"four\"\n      }, {\n        id: \"4\",\n        text: \"five\",\n        value: \"five\"\n      }],\n      value: \"\",\n      allowUniqueValue: \"\",\n      valueMultiple: [],\n      allowUniqueValueMultiple: []\n    };\n  },\n  flightsVisible: true,\n  valueFrom: ['City A'],\n  valueTo: ['City B'],\n  optionsFrom: flightsData.map(flight => flight.from),\n  optionsTo: flightsData.map(flight => flight.to),\n  showFrom: true,\n  showTo: true,\n  valueDate: null,\n  options: ['Одна', 'Дві', 'Три', 'Чотири', \"П'ять\", 'Шість'],\n  valueSingle: '',\n  flights: [],\n  computed: {\n    filteredFlights() {\n      return this.flights.filter(flight => {\n        return this.valueFrom.includes(flight.from) && this.valueTo.includes(flight.to) && (this.valueDate ? this.matchesSelectedDate(flight.departure) : true);\n      });\n    },\n    minDate() {\n      return this.flights.reduce((min, flight) => {\n        const flightDate = new Date(flight.departure);\n        return !min || flightDate < min ? flightDate : min;\n      }, null);\n    },\n    maxDate() {\n      return this.flights.reduce((max, flight) => {\n        const flightDate = new Date(flight.departure);\n        return !max || flightDate > max ? flightDate : max;\n      }, null);\n    }\n  },\n  mounted() {\n    this.flights = flightsData;\n  },\n  methods: {\n    handleClickshowDate2() {\n      this.valueFrom = [];\n      this.valueTo = [];\n      this.showTo = false;\n      this.waybillTo = false;\n    },\n    handleClickshowDate1() {\n      this.valueFrom = [];\n      this.valueTo = [];\n      this.showTo = true;\n      this.waybillTo = true;\n    },\n    reverseSelection() {\n      [this.valueFrom, this.valueTo] = [this.valueTo, this.valueFrom];\n    },\n    searchFlights() {\n      this.flightsVisible = true;\n      this.flights = flightsData.filter(flight => {\n        return this.valueFrom.includes(flight.from) && this.valueTo.includes(flight.to) && this.matchesSelectedDate(flight.departure);\n      });\n    },\n    matchesSelectedDate(flightDeparture) {\n      if (!this.valueDate) {\n        return true;\n      }\n      const selectedDate = new Date(flightDeparture).toISOString().substr(0, 10);\n      const fromDate = this.valueDateFrom ? this.valueDateFrom.toISOString().substr(0, 10) : null;\n      const toDate = this.valueDateTo ? this.valueDateTo.toISOString().substr(0, 10) : null;\n      if (fromDate && toDate) {\n        return selectedDate >= fromDate && selectedDate <= toDate;\n      } else if (fromDate) {\n        return selectedDate >= fromDate;\n      } else if (toDate) {\n        return selectedDate <= toDate;\n      }\n      return true;\n    }\n  },\n  name: 'HomeView'\n};","map":{"version":3,"names":["flightsData","data","options","id","text","value","allowUniqueValue","valueMultiple","allowUniqueValueMultiple","flightsVisible","valueFrom","valueTo","optionsFrom","map","flight","from","optionsTo","to","showFrom","showTo","valueDate","valueSingle","flights","computed","filteredFlights","filter","includes","matchesSelectedDate","departure","minDate","reduce","min","flightDate","Date","maxDate","max","mounted","methods","handleClickshowDate2","waybillTo","handleClickshowDate1","reverseSelection","searchFlights","flightDeparture","selectedDate","toISOString","substr","fromDate","valueDateFrom","toDate","valueDateTo","name"],"sources":["C:\\Users\\Dasha\\Desktop\\practice\\air_tickets\\air_tickets-client\\src\\views\\HomeView.vue"],"sourcesContent":["<template>\r\n  <main class=\"AppNavigationHome\">\r\n    <div class=\"main__container md12\">\r\n      <div class=\"main__navigation md12\">\r\n        <va-button class=\"btn-way md9\" @click.stop=\"handleClickshowDate1()\">Туди й назад</va-button>\r\n        <va-button class=\"btn-way md9\" @click.stop=\"handleClickshowDate2()\">Односторонній</va-button>\r\n      </div>\r\n\r\n      <div class=\"path\">\r\n        <div class=\"main__waybillFrom\" v-show=\"showFrom\">\r\n          <div>\r\n            <va-select v-model=\"valueFrom\" label=\"\" :options=\"optionsFrom\" :track-by=\"(option) => option.id\"\r\n              @create-new=\"addNewOption\" allow-create multiple searchable highlight-matched-text />\r\n          </div>\r\n        </div>\r\n        <div class=\"btm-revers\">\r\n          <va-button v-show=\"showTo\" round icon=\"cached\" @click=\"reverseSelection()\"></va-button>\r\n        </div>\r\n        <div class=\"main__waybillTo\" v-show=\"showTo\">\r\n          <div>\r\n            <va-select v-model=\"valueTo\" label=\"\" :options=\"optionsTo\" multiple searchable highlight-matched-text />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"btn__info\">\r\n        <div class=\"row justify-space-between\">\r\n          <div class=\"date flex flex-col xs12\">\r\n            <va-date-input v-if=\"showFrom\" class=\"date__input\" label=\"Дата\" stateful clearable :min-date=\"minDate\"\r\n              :max-date=\"maxDate\" />\r\n          </div>\r\n          <div class=\"date flex flex-col xs12\">\r\n            <va-date-input v-if=\"showTo\" class=\"date__input\" label=\"Дата\" stateful clearable :min-date=\"minDate\"\r\n              :max-date=\"maxDate\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"price\">\r\n          <va-select v-model=\"valueSingle\" class=\"sm12\" label=\"кількість осіб\" :options=\"options\" />\r\n        </div>\r\n        <div class=\"scan sm12\">\r\n          <va-button size=\"medium\" class=\"px-6\" @click=\"searchFlights\">Пошук рейсов</va-button>\r\n        </div>\r\n        <div class=\"tabel__tickets\" v-if=\"flightsVisible\">\r\n          <table class=\"va-table va-table--striped va-table--clickable\">\r\n            <thead>\r\n              <tr>\r\n                <th>Звідки</th>\r\n                <th>Куди</th>\r\n                <th>Ціна</th>\r\n                <th>Дата</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"flight in filteredFlights\" :key=\"flight.from\">\r\n                <td>{{ flight.from }}</td>\r\n                <td>{{ flight.to }}</td>\r\n                <td>{{ flight.price }}</td>\r\n                <td>{{ flight.departure }}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <div class=\"error\">\r\n            <div v-if=\"valueFrom.length === 0 || valueTo.length === 0\" class=\"error\">\r\n              <!-- Рейсів не знайдено. Будь ласка вкажіть шлях та дату. -->\r\n            </div>\r\n            <div v-else class=\"error\">\r\n              Всі можливі рейси\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport flightsData from '@/data/FlyTickets.json';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      options: [\r\n        { id: \"0\", text: \"one\", value: \"one\" },\r\n        { id: \"1\", text: \"two\", value: \"two\" },\r\n        { id: \"2\", text: \"three\", value: \"three\" },\r\n        { id: \"3\", text: \"four\", value: \"four\" },\r\n        { id: \"4\", text: \"five\", value: \"five\" },\r\n      ],\r\n      value: \"\",\r\n      allowUniqueValue: \"\",\r\n      valueMultiple: [],\r\n      allowUniqueValueMultiple: [],\r\n    };\r\n  },\r\n  flightsVisible: true,\r\n  valueFrom: ['City A'],\r\n  valueTo: ['City B'],\r\n  optionsFrom: flightsData.map(flight => flight.from),\r\n  optionsTo: flightsData.map(flight => flight.to),\r\n  showFrom: true,\r\n  showTo: true,\r\n  valueDate: null,\r\n  options: ['Одна', 'Дві', 'Три', 'Чотири', \"П'ять\", 'Шість'],\r\n  valueSingle: '',\r\n  flights: [],\r\ncomputed: {\r\n  filteredFlights() {\r\n    return this.flights.filter(flight => {\r\n      return (\r\n        this.valueFrom.includes(flight.from) &&\r\n        this.valueTo.includes(flight.to) &&\r\n        (this.valueDate ? this.matchesSelectedDate(flight.departure) : true)\r\n      );\r\n    });\r\n  },\r\n  minDate() {\r\n    return this.flights.reduce((min, flight) => {\r\n      const flightDate = new Date(flight.departure);\r\n      return !min || flightDate < min ? flightDate : min;\r\n    }, null);\r\n  },\r\n  maxDate() {\r\n    return this.flights.reduce((max, flight) => {\r\n      const flightDate = new Date(flight.departure);\r\n      return !max || flightDate > max ? flightDate : max;\r\n    }, null);\r\n  },\r\n},\r\nmounted() {\r\n  this.flights = flightsData;\r\n},\r\nmethods: {\r\n  handleClickshowDate2() {\r\n    this.valueFrom = [];\r\n    this.valueTo = [];\r\n    this.showTo = false;\r\n    this.waybillTo = false;\r\n  },\r\n  handleClickshowDate1() {\r\n    this.valueFrom = [];\r\n    this.valueTo = [];\r\n    this.showTo = true;\r\n    this.waybillTo = true;\r\n  },\r\n  reverseSelection() {\r\n    [this.valueFrom, this.valueTo] = [this.valueTo, this.valueFrom];\r\n  },\r\n  searchFlights() {\r\n    this.flightsVisible = true;\r\n    this.flights = flightsData.filter(flight => {\r\n      return (\r\n        this.valueFrom.includes(flight.from) &&\r\n        this.valueTo.includes(flight.to) &&\r\n        this.matchesSelectedDate(flight.departure)\r\n      );\r\n    });\r\n  },\r\n  matchesSelectedDate(flightDeparture) {\r\n    if (!this.valueDate) {\r\n      return true;\r\n    }\r\n    const selectedDate = new Date(flightDeparture).toISOString().substr(0, 10);\r\n    const fromDate = this.valueDateFrom ? this.valueDateFrom.toISOString().substr(0, 10) : null;\r\n    const toDate = this.valueDateTo ? this.valueDateTo.toISOString().substr(0, 10) : null;\r\n\r\n    if (fromDate && toDate) {\r\n      return selectedDate >= fromDate && selectedDate <= toDate;\r\n    } else if (fromDate) {\r\n      return selectedDate >= fromDate;\r\n    } else if (toDate) {\r\n      return selectedDate <= toDate;\r\n    }\r\n\r\n    return true;\r\n  },\r\n},\r\nname: 'HomeView'\r\n};\r\n</script>\r\n\r\n<style>\r\n.AppNavigationHome {\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.main__container {\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\n.main__navigation {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  margin-top: 15px;\r\n}\r\n\r\n.btn-way {\r\n  flex: 50%;\r\n  width: 160px;\r\n  gap: 20px;\r\n}\r\n\r\n.main__waybillFrom {\r\n  margin-bottom: 0;\r\n  margin-top: 20px;\r\n}\r\n\r\n.main__waybillTo {\r\n  margin-top: -10px;\r\n}\r\n\r\n.path {\r\n  position: relative;\r\n}\r\n\r\n.btm-revers {\r\n  position: absolute;\r\n  top: 32px;\r\n  left: 212px;\r\n  z-index: 1;\r\n}\r\n\r\n.btn__info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 20px;\r\n}\r\n\r\n.date {\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: row;\r\n  gap: 15px;\r\n  flex: 100%;\r\n  width: 120px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.date__input {\r\n  flex: 1 1 50%;\r\n}\r\n\r\n.price {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 20px;\r\n}\r\n\r\n.scan {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 20px;\r\n  width: 100%;\r\n}\r\n\r\n.va-button {\r\n  width: 100%;\r\n}\r\n\r\n.va-dropdown__content {\r\n  z-index: 99;\r\n}\r\n\r\n.tabel__tickets {\r\n  box-shadow: 0px 4px 6px rgba(52, 61, 215, 0.397);\r\n  overflow: auto;\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}